---
title: GraphAI 0.5.23 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰ï¼šCLI ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨å®Ÿè¡Œçµæœ
tags:
  - CLI
  - ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  - AgentAI
  - GraphAI
private: false
updated_at: '2024-12-09T12:07:05+09:00'
id: 27936cf4abacb9c43e15
organization_url_name: null
slide: false
ignorePublish: false
---
# ã¯ã˜ã‚ã«

GraphAI ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã—ãŸã¨ãã€è‰²ã€…ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ã‚‹ã®ã§ã™ãŒã€è©³ç´°è§£èª¬ã—ãŸã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã®ã§å‚™å¿˜éŒ²ã‹ã­ã¦æœ¬è¨˜äº‹ä½œæˆã—ã¾ã™ã€‚

```
$ graphai
graphai <yaml_or_json_file>

run GraphAI with GraphAI file.

Positionals:
      --yaml_or_json_file  yaml or json file                            [æ–‡å­—åˆ—]

ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
      --help     ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º                                             [çœŸå½]
      --version  ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤º                                         [çœŸå½]
  -l, --list     agents list
  -s, --sample   agent sample data                                      [æ–‡å­—åˆ—]
  -d, --detail   agent detail                                           [æ–‡å­—åˆ—]
  -v, --verbose  verbose log                   [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
  -a, --all      all result                    [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
  -m, --mermaid  mermaid                       [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
      --yaml     dump yaml                     [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
      --json     dump json                     [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
      --log      output log                                             [æ–‡å­—åˆ—]

ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ãªã„å¼•æ•°ãŒ 0 å€‹ã§ã¯ä¸è¶³ã—ã¦ã„ã¾ã™ã€‚å°‘ãªãã¨ã‚‚ 1 å€‹ã®å¼•æ•°ãŒå¿…è¦ã§ã™:
```

ãªãŠã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

https://qiita.com/t_narita/items/4fa82f66f8c773e91394

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§

## --help     ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º

- èª¬æ˜
ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚  

- ä½¿ç”¨ä¾‹
    ```bash
    $ graphai --help
    graphai <yaml_or_json_file>
    
    run GraphAI with GraphAI file.
    
    Positionals:
          --yaml_or_json_file  yaml or json file                            [æ–‡å­—åˆ—]
    
    ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
          --help     ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º                                             [çœŸå½]
          --version  ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤º                                         [çœŸå½]
      -l, --list     agents list
      -s, --sample   agent sample data                                      [æ–‡å­—åˆ—]
      -d, --detail   agent detail                                           [æ–‡å­—åˆ—]
      -v, --verbose  verbose log                   [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
      -a, --all      all result                    [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
      -m, --mermaid  mermaid                       [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
          --yaml     dump yaml                     [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
          --json     dump json                     [çœŸå½] [å¿…é ˆ] [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false]
          --log      output log                                             [æ–‡å­—åˆ—]
    narita@naritanoMacBook-Pro ~ % 
    ```

## --version  ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤º

- èª¬æ˜
ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚  

- ä½¿ç”¨ä¾‹
    ```bash
    $ graphai --version
    0.5.23
    ```
    
## -l, --list     agents list

- èª¬æ˜
åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚  

- ä½¿ç”¨ä¾‹
    ```bash
    $ graphai -l       
    Available Agents
    * anthropicAgent - Anthropic Agent
    * arrayFlatAgent - Array Flat Agent
    * arrayJoinAgent - Array Join Agent
    * compareAgent - compare
    * copy2ArrayAgent - Copy2Array agent
    * copyAgent - Returns namedInputs
    * copyMessageAgent - CopyMessage agent
    * countingAgent - Counting agent
    * dataObjectMergeTemplateAgent - Merge object
    * dataSumTemplateAgent - Returns the sum of input values
    * dotProductAgent - dotProduct Agent
    * echoAgent - Echo agent
    * fetchAgent - Retrieves JSON data from the specified URL
    * geminiAgent - Gemini Agent
    * groqAgent - Groq Agent
    * jsonParserAgent - Template agent
    * mapAgent - Map Agent
    * mergeNodeIdAgent - merge node id agent
    * nestedAgent - nested Agent
    * openAIAgent - OpenAI Agent
    * openAIImageAgent - OpenAI Image Agent
    * popAgent - Pop Agent
    * propertyFilterAgent - Filter properties based on property name either with 'include', 'exclude', 'alter', 'swap', 'inject', 'inspect'
    * pushAgent - push Agent
    * replicateAgent - Replicate Agent
    * shiftAgent - shift Agent
    * slashGPTAgent - Slash GPT Agent
    * sleepAndMergeAgent - sleeper and merge Agent
    * sleeperAgent - sleeper Agent
    * sleeperAgentDebug - sleeper debug Agent
    * sortByValuesAgent - sortByValues Agent
    * streamMockAgent - Stream mock agent
    * stringEmbeddingsAgent - Embeddings Agent
    * stringSplitterAgent - This agent strip one long string into chunks using following parameters
    * stringTemplateAgent - Template agent
    * textInputAgent - Text Input Agent
    * tokenBoundStringsAgent - token bound Agent
    * totalAgent - Returns the sum of input values
    * vanillaFetchAgent - Retrieves JSON data from the specified URL
    * wikipediaAgent - Retrieves data
    ```

##   -s, --sample   agent sample data

- èª¬æ˜
ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    narita@naritanoMacBook-Pro ~ % graphai -s echoAgent
    * echoAgent
    [
      {
        "inputs": {},
        "params": {
          "text": "this is test"
        },
        "result": {
          "text": "this is test"
        }
      },
      {
        "inputs": {},
        "params": {
          "text": "If you add filterParams option, it will respond to filterParams",
          "filterParams": true
        },
        "result": {}
      }
    ]
    ```

##   -d, --detail   agent detail
- èª¬æ˜
ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ graphai -d echoAgent
    * echoAgent
    echoAgent - Echo agent
    Author Satoshi Nakajima
    Repository https://github.com/receptron/graphai
    Licence MIT
    ```

##   -v, --verbose  verbose log

- èª¬æ˜
ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat hello_world.yaml
    version: 0.5
    nodes:
      node1: 
        params:
          message: hello
        agent: echoAgent
        isResult: true

    # é€šå¸¸ã®å®Ÿè¡Œ
    $ graphai hello_world.yaml 
    {
        "node1": {
            "message": "hello"
        }
    }
    
    # ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§å®Ÿè¡Œã—ãŸå ´åˆ
    $ graphai -v hello_world.yaml
    node1      queued
    node1      =>( []
    node1      {}  {"message":"hello"}
    {
      "node1": {
        "message": "hello"
      }
    ```

##   -a, --all      all result
- èª¬æ˜
ã™ã¹ã¦ã®çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat hello_world.yaml
    version: 0.5
    nodes:
      node1: 
        params:
          message: hello
        agent: echoAgent
        isResult: false  # falseã«å¤‰æ›´ã—ã¦è¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹
    
    # é€šå¸¸å®Ÿè¡Œ
    $ graphai hello_world.yaml 
    {}
    
    # ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã§å®Ÿè£…
    $ graphai -a hello_world.yaml 
    {
      "node1": {
        "message": "hello"
      }
    }
    ```

##   -m, --mermaid  mermaid

- èª¬æ˜
ã™ã¹ã¦ã®çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat map_agent.yaml 
    version: 0.5
    nodes:
     source:
       value:
         fruits:
           - apple
           - orange
           - banana
           - lemon
           - melon
           - pineapple
           - tomato
     nestedNode:
       agent: mapAgent
       inputs:
         rows: :source.fruits
       graph:
         version: 0.5
         nodes:
           node2:
             agent: stringTemplateAgent
             params:
               template: I love ${m}.
             inputs:
               m: :row
             isResult: true
       params:
         compositeResult: true
     result:
       agent: sleepAndMergeAgent
       inputs:
         array:
           - :nestedNode.node2
       isResult: true

    $ graphai -m map_agent.yaml
    flowchart TD
     source(source) -- fruits --> nestedNode
     nestedNode(nestedNode) -- node2 --> result
    ```

##       --yaml     dump yaml

- èª¬æ˜
yamlå½¢å¼ã§å‡ºåŠ›ã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat hello_world.json 
    {
      "version": 0.5,
      "nodes": {
        "node1": {
          "params": {
            "message": "hello"
          },
          "agent": "echoAgent",
          "isResult": true
        }
      }
    }

    $ graphai --yaml hello_world.json                   
    version: 0.5
    nodes:
      node1:
        params:
          message: hello
        agent: echoAgent
        isResult: true
    ```

##       --json     dump json

- èª¬æ˜
jsonå½¢å¼ã§å‡ºåŠ›ã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat hello_world.yaml 
    version: 0.5
    nodes:
      node1: 
        params:
          message: hello
        agent: echoAgent
        isResult: true

    $ graphai --json hello_world.yaml
    {
      "version": 0.5,
      "nodes": {
        "node1": {
          "params": {
            "message": "hello"
          },
          "agent": "echoAgent",
          "isResult": true
        }
      }
    }
    ```

##       --log      output log

- èª¬æ˜
ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

- ä½¿ç”¨ä¾‹
    ```
    $ cat hello_world.yaml 
    version: 0.5
    nodes:
      node1: 
        params:
          message: hello
        agent: echoAgent
        isResult: true

    # ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¦å®Ÿè¡Œ
    $ graphai --log log.txt hello_world.yaml 
    {
      "node1": {
        "message": "hello"
      }
    }

    # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã‚‹
    $ cat log.txt 
    [
      {
        "nodeId": "node1",
        "state": "completed",
        "agentId": "echoAgent",
        "params": {
          "message": "hello"
        },
        "isLoop": false,
        "repeatCount": 0,
        "startTime": 1733713460531,
        "inputs": [],
        "result": {
          "message": "hello"
        },
        "resultKeys": [
          ":echoAgent",
          ":echoAgent.message"
        ],
        "endTime": 1733713460532
      },
      {
        "nodeId": "node1",
        "state": "completed",
        "agentId": "echoAgent",
        "params": {
          "message": "hello"
        },
        "isLoop": false,
        "repeatCount": 0,
        "startTime": 1733713460531,
        "inputs": [],
        "result": {
          "message": "hello"
        },
        "resultKeys": [
          ":echoAgent",
          ":echoAgent.message"
        ],
        "endTime": 1733713460532
      },
      {
        "nodeId": "node1",
        "state": "completed",
        "agentId": "echoAgent",
        "params": {
          "message": "hello"
        },
        "isLoop": false,
        "repeatCount": 0,
        "startTime": 1733713460531,
        "inputs": [],
        "result": {
          "message": "hello"
        },
        "resultKeys": [
          ":echoAgent",
          ":echoAgent.message"
        ],
        "endTime": 1733713460532
      }
    ]
    ```


# å‚è€ƒã‚µã‚¤ãƒˆ
GraphAI cliğŸ¤–
https://github.com/receptron/graphai/blob/main/packages/cli/README.md
